
(function(a){a.events.push(["postPutResources",function(){var d=this;var c=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0){var o=d.outline.render().split(/\r\n/);for(var h=0;h<o.length;h++){var p=o[h];var g=c.exec(p);if(g!=null){var f=g[1];d.internal.newObjectDeferredBegin(f)}d.internal.write(p)}}if(this.outline.createNamedDestinations){var k=this.internal.pages.length;var l=[];for(var h=0;h<k;h++){var b=d.internal.newObject();l.push(b);var e=d.internal.getPageInfo(h+1);d.internal.write("<< /D["+e.objId+" 0 R /XYZ null null null]>> endobj")}var j=d.internal.newObject();d.internal.write("<< /Names [ ");for(var h=0;h<l.length;h++){d.internal.write("(page_"+(h+1)+")"+l[h]+" 0 R")}d.internal.write(" ] >>","endobj");var n=d.internal.newObject();d.internal.write("<< /Dests "+j+" 0 R");d.internal.write(">>","endobj")}}]);a.events.push(["putCatalog",function(){var b=this;if(b.outline.root.children.length>0){b.internal.write("/Outlines",this.outline.makeRef(this.outline.root));if(this.outline.createNamedDestinations){b.internal.write("/Names "+namesOid+" 0 R")}}}]);a.events.push(["initialized",function(){var b=this;b.outline={createNamedDestinations:false,root:{children:[]}};var c;var d=[];b.outline.add=function(f,h,e){var g={title:h,options:e,children:[]};if(f==null){f=this.root}f.children.push(g);return g};b.outline.render=function(){this.ctx={};this.ctx.val="";this.ctx.pdf=b;this.genIds_r(this.root);this.renderRoot(this.root);this.renderItems(this.root);return this.ctx.val};b.outline.genIds_r=function(f){f.id=b.internal.newObjectDeferred();for(var e=0;e<f.children.length;e++){this.genIds_r(f.children[e])}};b.outline.renderRoot=function(e){this.objStart(e);this.line("/Type /Outlines");if(e.children.length>0){this.line("/First "+this.makeRef(e.children[0]));this.line("/Last "+this.makeRef(e.children[e.children.length-1]))}this.line("/Count "+this.count_r({count:0},e));this.objEnd()};b.outline.renderItems=function(h){for(var e=0;e<h.children.length;e++){var g=h.children[e];this.objStart(g);this.line("/Title "+this.makeString(g.title));this.line("/Parent "+this.makeRef(h));if(e>0){this.line("/Prev "+this.makeRef(h.children[e-1]))}if(e<h.children.length-1){this.line("/Next "+this.makeRef(h.children[e+1]))}if(g.children.length>0){this.line("/First "+this.makeRef(g.children[0]));this.line("/Last "+this.makeRef(g.children[g.children.length-1]))}var f=this.count=this.count_r({count:0},g);if(f>0){this.line("/Count "+f)}if(g.options){if(g.options.pageNumber){var j=b.internal.getPageInfo(g.options.pageNumber);this.line("/Dest ["+j.objId+" 0 R /XYZ 0 "+this.ctx.pdf.internal.pageSize.height+" 0]")}}this.objEnd()}for(var e=0;e<h.children.length;e++){var g=h.children[e];this.renderItems(g)}};b.outline.line=function(e){this.ctx.val+=e+"\r\n"};b.outline.makeRef=function(e){return e.id+" 0 R"};b.outline.makeString=function(e){return"("+b.internal.pdfEscape(e)+")"};b.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"};b.outline.objEnd=function(e){this.ctx.val+=">> \r\nendobj\r\n"};b.outline.count_r=function(e,g){for(var f=0;f<g.children.length;f++){e.count++;this.count_r(e,g.children[f])}return e.count}}]);return this})(jsPDF.API);