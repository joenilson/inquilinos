
(function(l){var g=function(){return typeof PNG!=="function"||typeof FlateStream!=="function"},r=function(t){return t!==l.image_compression.NONE&&q()},q=function(){var t=typeof Deflater==="function";if(!t){throw new Error("requires deflate.js for compression")}return t},d=function(F,v,t,E){var u=5,x=i;switch(E){case l.image_compression.FAST:u=3;x=f;break;case l.image_compression.MEDIUM:u=6;x=a;break;case l.image_compression.SLOW:u=9;x=p;break}F=n(F,v,t,x);var z=new Uint8Array(m(u));var C=s(F);var y=new Deflater(u);var D=y.append(F);var w=y.flush();var B=z.length+D.length+w.length;var A=new Uint8Array(B+4);A.set(z);A.set(D,z.length);A.set(w,z.length+D.length);A[B++]=(C>>>24)&255;A[B++]=(C>>>16)&255;A[B++]=(C>>>8)&255;A[B++]=C&255;return l.arrayBufferToBinaryString(A)},m=function(u,z){var t=8;var w=Math.LOG2E*Math.log(32768)-8;var v=(w<<4)|t;var y=v<<8;var x=Math.min(3,((z-1)&255)>>1);y|=(x<<6);y|=0;y+=31-(y%31);return[v,(y&255)&255]},s=function(A,z){var v=1;var y=v&65535,u=(v>>>16)&65535;var t=A.length;var x;var w=0;while(t>0){x=t>z?z:t;t-=x;do{y+=A[w++];u+=y}while(--x);y%=65521;u%=65521}return((u<<16)|y)>>>0},n=function(F,u,t,w){var G=F.length/u,H=new Uint8Array(F.length+G),x=e(),B=0,E,D,z;for(;B<G;B++){z=B*u;E=F.subarray(z,z+u);if(w){H.set(w(E,t,D),z+B)}else{var y=0,C=x.length,A=[];for(;y<C;y++){A[y]=x[y](E,t,D)}var v=b(A.concat());H.set(A[v],z+B)}D=E}return H},c=function(u,w,v){var t=Array.apply([],u);t.unshift(0);return t},f=function(v,z,x){var u=[],w=0,t=v.length,y;u[0]=1;for(;w<t;w++){y=v[w-z]||0;u[w+1]=(v[w]-y+256)&255}return u},i=function(w,z,y){var v=[],x=0,u=w.length,t;v[0]=2;for(;x<u;x++){t=y&&y[x]||0;v[x+1]=(w[x]-t+256)&255}return v},a=function(w,A,y){var v=[],x=0,u=w.length,z,t;v[0]=3;for(;x<u;x++){z=w[x-A]||0;t=y&&y[x]||0;v[x+1]=(w[x]+256-((z+t)>>>1))&255}return v},p=function(B,u,A){var C=[],w=0,y=B.length,v,x,z,t;C[0]=4;for(;w<y;w++){v=B[w-u]||0;x=A&&A[w]||0;z=A&&A[w-u]||0;t=k(v,x,z);C[w+1]=(B[w]-t+256)&255}return C},k=function(z,t,u){var y=z+t-u,w=Math.abs(y-z),v=Math.abs(y-t),x=Math.abs(y-u);return(w<=v&&w<=x)?z:(v<=x)?t:u},e=function(){return[c,f,i,a,p]},b=function(y){var v=0,t=y.length,w,u,x;while(v<t){w=o(y[v].slice(1));if(w<u||!u){u=w;x=v}v++}return x},o=function(w){var u=0,t=w.length,v=0;while(u<t){v+=Math.abs(w[u++])}return v},j=function(u){var t;switch(u){case l.image_compression.FAST:t=11;break;case l.image_compression.MEDIUM:t=13;break;case l.image_compression.SLOW:t=14;break;default:t=12;break}return t},h=function(t){console.log("width: "+t.width);console.log("height: "+t.height);console.log("bits: "+t.bits);console.log("colorType: "+t.colorType);console.log("transparency:");console.log(t.transparency);console.log("text:");console.log(t.text);console.log("compressionMethod: "+t.compressionMethod);console.log("filterMethod: "+t.filterMethod);console.log("interlaceMethod: "+t.interlaceMethod);console.log("imgData:");console.log(t.imgData);console.log("palette:");console.log(t.palette);console.log("colors: "+t.colors);console.log("colorSpace: "+t.colorSpace);console.log("pixelBitlength: "+t.pixelBitlength);console.log("hasAlphaChannel: "+t.hasAlphaChannel)};l.processPNG=function(N,u,D,S,v){var L=this.color_spaces.DEVICE_RGB,C=this.decode.FLATE_DECODE,y=8,U,H,z,A,I,J;if(this.isArrayBuffer(N)){N=new Uint8Array(N)}if(this.isArrayBufferView(N)){if(g()){throw new Error("PNG support requires png.js and zlib.js")}U=new PNG(N);N=U.imgData;y=U.bits;L=U.colorSpace;A=U.colors;if([4,6].indexOf(U.colorType)!==-1){if(U.bits===8){var E=U.pixelBitlength==32?new Uint32Array(U.decodePixels().buffer):U.pixelBitlength==16?new Uint16Array(U.decodePixels().buffer):new Uint8Array(U.decodePixels().buffer),M=E.length,P=new Uint8Array(M*U.colors),G=new Uint8Array(M),O=U.pixelBitlength-U.bits,K=0,F=0,x,t;for(;K<M;K++){x=E[K];t=0;while(t<O){P[F++]=(x>>>t)&255;t=t+U.bits}G[K]=(x>>>t)&255}}if(U.bits===16){var E=new Uint32Array(U.decodePixels().buffer),M=E.length,P=new Uint8Array((M*(32/U.pixelBitlength))*U.colors),G=new Uint8Array(M*(32/U.pixelBitlength)),Q=U.colors>1,K=0,F=0,R=0,x;while(K<M){x=E[K++];P[F++]=(x>>>0)&255;if(Q){P[F++]=(x>>>16)&255;x=E[K++];P[F++]=(x>>>0)&255}G[R++]=(x>>>16)&255}y=8}if(r(S)){N=d(P,U.width*U.colors,U.colors,S);J=d(G,U.width,1,S)}else{N=P;J=G;C=null}}if(U.colorType===3){L=this.color_spaces.INDEXED;I=U.palette;if(U.transparency.indexed){var w=U.transparency.indexed;var T=0,K=0,M=w.length;for(;K<M;++K){T+=w[K]}T=T/255;if(T===M-1&&w.indexOf(0)!==-1){z=[w.indexOf(0)]}else{if(T!==M){var E=U.decodePixels(),G=new Uint8Array(E.length),K=0,M=E.length;for(;K<M;K++){G[K]=w[E[K]]}J=d(G,U.width,1)}}}}var B=j(S);if(C===this.decode.FLATE_DECODE){H="/Predictor "+B+" /Colors "+A+" /BitsPerComponent "+y+" /Columns "+U.width}else{H="/Colors "+A+" /BitsPerComponent "+y+" /Columns "+U.width}if(this.isArrayBuffer(N)||this.isArrayBufferView(N)){N=this.arrayBufferToBinaryString(N)}if(J&&this.isArrayBuffer(J)||this.isArrayBufferView(J)){J=this.arrayBufferToBinaryString(J)}return this.createImageInfo(N,U.width,U.height,L,y,C,u,D,H,z,I,J,B)}throw new Error("Unsupported PNG image data, try using JPEG instead.")}})(jsPDF.API);