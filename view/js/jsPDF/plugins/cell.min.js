
(function(j){var a,l,g,k=3,e=13,h,b={x:undefined,y:undefined,w:undefined,h:undefined,ln:undefined},d=1,c=function(m,q,n,o,p){b={x:m,y:q,w:n,h:o,ln:p}},i=function(){return b},f={left:0,top:0,bottom:0};j.setHeaderFunction=function(m){h=m};j.getTextDimensions=function(m){a=this.internal.getFont().fontName;l=this.table_font_size||this.internal.getFontSize();g=this.internal.getFont().fontStyle;var q=0.264583*72/25.4,n,p;p=document.createElement("font");p.id="jsPDFCell";try{p.style.fontStyle=g}catch(o){p.style.fontWeight=g}p.style.fontName=a;p.style.fontSize=l+"pt";try{p.textContent=m}catch(o){p.innerText=m}document.body.appendChild(p);n={w:(p.offsetWidth+1)*q,h:(p.offsetHeight+1)*q};document.body.removeChild(p);return n};j.cellAddPage=function(){var m=this.margins||f;this.addPage();c(m.left,m.top,undefined,undefined);d+=1};j.cellInitialize=function(){b={x:undefined,y:undefined,w:undefined,h:undefined,ln:undefined};d=1};j.cell=function(u,t,z,p,o,r,q){var B=i();var v=false;if(B.ln!==undefined){if(B.ln===r){u=B.x+B.w;t=B.y}else{var s=this.margins||f;if((B.y+B.h+p+e)>=this.internal.pageSize.height-s.bottom){this.cellAddPage();v=true;if(this.printHeaders&&this.tableHeaderRow){this.printHeaderRow(r,true)}}t=(i().y+i().h);if(v){t=e+10}}}if(o[0]!==undefined){if(this.printingHeaderRow){this.rect(u,t,z,p,"FD")}else{this.rect(u,t,z,p)}if(q==="right"){if(!(o instanceof Array)){o=[o]}for(var n=0;n<o.length;n++){var A=o[n];var m=this.getStringUnitWidth(A)*this.internal.getFontSize();this.text(A,u+z-m-k,t+this.internal.getLineHeight()*(n+1))}}else{this.text(o,u+k,t+this.internal.getLineHeight())}}c(u,t,z,p,r);return this};j.arrayMax=function(r,q){var m=r[0],n,p,o;for(n=0,p=r.length;n<p;n+=1){o=r[n];if(q){if(q(m,o)===-1){m=o}}else{if(o>m){m=o}}}return m};j.table=function(D,B,O,p,N){if(!O){throw"No data for PDF table"}var w=[],m=[],I,J,C,v,L={},G={},u,s,M=[],H,K=[],t,o,z,E=false,F=true,r=12,n=f;n.width=this.internal.pageSize.width;if(N){if(N.autoSize===true){E=true}if(N.printHeaders===false){F=false}if(N.fontSize){r=N.fontSize}if(N.css&&typeof(N.css["font-size"])!=="undefined"){r=N.css["font-size"]*16}if(N.margins){n=N.margins}}this.lnMod=0;b={x:undefined,y:undefined,w:undefined,h:undefined,ln:undefined},d=1;this.printHeaders=F;this.margins=n;this.setFontSize(r);this.table_font_size=r;if(p===undefined||(p===null)){w=Object.keys(O[0])}else{if(p[0]&&(typeof p[0]!=="string")){var A=0.264583*72/25.4;for(J=0,C=p.length;J<C;J+=1){I=p[J];w.push(I.name);m.push(I.prompt);G[I.name]=I.width*A}}else{w=p}}if(E){z=function(x){return x[I]};for(J=0,C=w.length;J<C;J+=1){I=w[J];L[I]=O.map(z);M.push(this.getTextDimensions(m[J]||I).w);s=L[I];for(H=0,v=s.length;H<v;H+=1){u=s[H];M.push(this.getTextDimensions(u).w)}G[I]=j.arrayMax(M);M=[]}}if(F){var q=this.calculateLineHeight(w,G,m.length?m:w);for(J=0,C=w.length;J<C;J+=1){I=w[J];K.push([D,B,G[I],q,String(m.length?m[J]:I)])}this.setTableHeaderRow(K);this.printHeaderRow(1,false)}for(J=0,C=O.length;J<C;J+=1){var q;t=O[J];q=this.calculateLineHeight(w,G,t);for(H=0,o=w.length;H<o;H+=1){I=w[H];this.cell(D,B,G[I],q,t[I],J+2,I.align)}}this.lastCellPos=b;this.table_x=D;this.table_y=B;return this};j.calculateLineHeight=function(r,o,n){var s,q=0;for(var m=0;m<r.length;m++){s=r[m];n[s]=this.splitTextToSize(String(n[s]),o[s]-k);var p=this.internal.getLineHeight()*n[s].length+k;if(p>q){q=p}}return q};j.setTableHeaderRow=function(m){this.tableHeaderRow=m};j.printHeaderRow=function(o,n){if(!this.tableHeaderRow){throw"Property tableHeaderRow does not exist."}var q,s,r,t;this.printingHeaderRow=true;if(h!==undefined){var m=h(this,d);c(m[0],m[1],m[2],m[3],-1)}this.setFontStyle("bold");var p=[];for(r=0,t=this.tableHeaderRow.length;r<t;r+=1){this.setFillColor(200,200,200);q=this.tableHeaderRow[r];if(n){this.margins.top=e;q[1]=this.margins&&this.margins.top||0;p.push(q)}s=[].concat(q);this.cell.apply(this,s.concat(o))}if(p.length>0){this.setTableHeaderRow(p)}this.setFontStyle("normal");this.printingHeaderRow=false}})(jsPDF.API);